# Data Pipeline Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ SIT-Ð´Ð°Ð½Ð½Ñ‹Ñ…

## ÐžÐ±Ð·Ð¾Ñ€

Ð­Ñ‚Ð¾Ñ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ ÐºÐ¾Ð½Ð²ÐµÐ¹ÐµÑ€ (pipeline) Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ ÑÐ¸Ð½Ñ‚ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ñ… **Sensitive Information Types (SIT)** Ð¸ **Test Categories (TC)**.  
Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ñ€Ð°Ð·Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ (Ñ‚ÐµÐºÑÑ‚Ñ‹, DOCX, PDF, EML Ð¸ Ð´Ñ€.), Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ **Ñ€ÐµÐ°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…**.  
ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¿Ð¾Ð¼ÐµÑ‡Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº **True Positive (TP)** Ð¸Ð»Ð¸ **False Positive (FP)** Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ñ… SIT-Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ð¾Ð².  

Pipeline Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚:
- ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ SIT/TC;
- Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸ÑŽ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° Ñ Ð½ÑƒÐ¶Ð½Ñ‹Ð¼Ð¸ Ð¼ÐµÑ‚ÐºÐ°Ð¼Ð¸;
- ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸ÑŽ Ð² Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹;
- Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÑŽ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ð¼Ð¸ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¸ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð².

---

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
TEST_PIPELINE_DESIGN/
â”‚
â”œâ”€â”€ config.json               # ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ„Ð¸Ð³ Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÑÐ¼Ð¸ SIT
â”‚
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ meta_generator.py     # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ SIT/TC
â”‚   â”œâ”€â”€ content_generator.py  # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð² Ñ SIT Ð¸ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¼ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼
â”‚   â”œâ”€â”€ postprocessor.py      # ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ (.txt, .docx, .pdf, .eml)
â”‚   â””â”€â”€ validator.py          # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°
â”‚
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ files/                # Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ mapping_meta.csv      # Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ SIT Ð¿Ð¾ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼
â”‚   â”œâ”€â”€ mapping_final.xlsx    # Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð¾Ðµ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ SIT Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð²
â”‚   â”œâ”€â”€ meta.json             # ÐœÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸
â”‚   â”œâ”€â”€ postprocess.log       # Ð›Ð¾Ð³ ÑÑ‚Ð°Ð¿Ð° Ð¿Ð¾ÑÑ‚Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
â”‚   â””â”€â”€ validation_report.txt # ÐžÑ‚Ñ‡Ñ‘Ñ‚ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸
â”‚
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ chat_templates.md
â”‚   â”œâ”€â”€ doc_templates.md
â”‚   â””â”€â”€ email_templates.md
â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ show_sit_samples.py       # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð² SIT-ÑˆÐ°Ð±Ð»Ð¾Ð½Ð¾Ð²
â”œâ”€â”€ test.py                   
â””â”€â”€ README.md
```

---

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:

```bash
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```

---

## ðŸš€ ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

ÐœÐ¾Ð´ÑƒÐ»Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÑŽÑ‚ÑÑ ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾ÑÑ‚Ð°Ð¿Ð½Ð¾:

```bash
python modules/meta_generator.py
python modules/content_generator.py
python modules/postprocessor.py
python modules/validator.py
```

ÐšÐ°Ð¶Ð´Ñ‹Ð¹ ÑˆÐ°Ð³ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ³Ð¾, Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÑ Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ñ†Ð¸ÐºÐ» Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ….

---

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹

### 1. meta_generator.py  
Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ðµ (`mapping_meta.csv`) Ñ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼:
- ÐºÐ°ÐºÐ¸Ðµ SIT/TC Ð¿Ð¾ÑÐ²ÑÑ‚ÑÑ Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ðµ;
- Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ TP/FP Ð¸ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¸Ð½ÑÑ‚Ð°Ð½ÑÐ¾Ð²;
- ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð½Ð¾ÑÑ‚Ð¸ (Low / Medium / High).

### 2. content_generator.py  
Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ñ‚ ÑÐ¸Ð½Ñ‚ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ….  
ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¾Ñ‚ 1 Ð´Ð¾ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… SIT/TC Ð² Ñ€Ð°Ð·Ð½Ñ‹Ñ… ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸ÑÑ…, Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÐµÐ¼ Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ñ‹ Ð¸ Ñ€ÐµÐ°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð².

### 3. postprocessor.py  
ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÐºÑÑ‚Ñ‹ Ð² Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð²:
- `.txt`, `.docx`, `.pdf`, `.eml`, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ (`.pptx`, `.xlsx`);
- Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ Ñ€Ð°Ð·Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° (Ñ‡Ð°Ñ‚Ñ‹, Ð¿Ð¸ÑÑŒÐ¼Ð°, Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹).

### 4. validator.py  
ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¿Ð¾ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ð¼ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼ SIT Ð¸Ð· `config.json`.  
Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ `validation_report.txt` Ñ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ°Ð¼Ð¸:

- True Positives (TP)  
- False Positives (FP)  
- ÐŸÑ€Ð¾Ð¿ÑƒÑ‰ÐµÐ½Ð½Ñ‹Ðµ SIT-Ð²Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ  

---

## ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°

```
SIT: SIT_SSN
  TP missing count: 10
  FP flagged count: 0
------------------------------------------------------------
SIT: SIT_DRIVER_US
  FP flagged count: 10
  sample matches: ['XXXXXXX']
```

---

## ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

Ð’ `config.json` Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸:

| ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|-----------|-----------|
| `per_sit_count` | ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ð¹ SIT |
| `formats` | Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ |
| `sits` | ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ SIT Ð¸ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ |
| `output` | ÐŸÑƒÑ‚Ð¸ Ð´Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸ Ð»Ð¾Ð³Ð¾Ð² |

---

## ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ñ

- 100 Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ð¹ SIT/TC  
- Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° SIT Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ðµ:
  - 1 SIT â€” 30%
  - 2â€“3 SIT â€” 30%
  - 4â€“6 SIT â€” 30%
  - >6 SIT â€” 10%  
- ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ð¹ SIT Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚:
  - 1 â€” 35%
  - 3â€“5 â€” 35%
  - 6â€“10 â€” 20%
  - >10 â€” 10%

---

